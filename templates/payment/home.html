{% extends 'base.html' %}
{% load static %}
{% block title %}Payment{% endblock %}
{% block stylesheet %}
<link rel="stylesheet" href="{% static 'css/payment_styles.css' %}">
{% endblock %}

{% block content %}

<div class="container-fluid">
    <div class="row no-gutter">
        <div class="col-md-12">
            <div class="login d-flex align-items-center py-5">
                <div class="container">
                    <div class="row">
                        <div id="payment-form" class="col-12 col-lg-6 mx-auto">
                            <h3 class="mb-3">Billing Address</h3>
                            <div id="card-errors" class="a" role="alert"></div>
                            <form action="">

                                <div class="row g-3">

                                    <div class="col-sm-7">
                                        <label for="firstName" class="form-label">Customer Name</label>
                                        <input type="text" class="form-control" id="custName"
                                            placeholder="Customer Name" required>
                                        <div class="invalid-feedback">
                                            Valid first name is required
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <label for="email" class="form-label">Email <span
                                                class="text-muted">(Optional)</span></label>
                                        <input type="email" class="form-control" id="email"
                                            placeholder="abc@example.com">
                                        <div class="invalid-feedback">
                                            Please enter a valid email address.
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <label for="address" class="form-label">Address</label>
                                        <input type="text" class="form-control" id="custAdd"
                                            placeholder="1234 Main St, Block No. 17" required>
                                        <div class="invalid-feedback">
                                            Please enter a shipping address.
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <label for="address" class="form-label">Address 2 <span
                                                class="text-muted">(Optional)</span></label>
                                        <input type="text" class="form-control" id="custAdd2"
                                            placeholder="Apartment or suite">
                                    </div>

                                    <div class="col-md-5">
                                        <label for="country" class="form-label">Country</label>
                                        <select id="country" class="form-select">
                                            <option value="">Choose....</option>
                                            <option value="United States">United States</option>
                                            <option value="India">India</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Please select a country
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <label for="state" class="form-label">State</label>
                                        <select class="form-select" id="state" required>
                                            <option value="">Choose...</option>
                                            <option>California</option>
                                            <option>Punjab</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Please provide a valid state
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <label for="Postcode" class="form-label">Postcode</label>
                                        <input type="text" class="form-control" id="postCode" placeholder="PIN">
                                        <div class="invalid-feedback">
                                            PIN code required
                                        </div>
                                    </div>

                                </div>
                                <hr class="my-4">
                                <h4 class="mb-3">Payment Section</h4>
                                <label for="card-element">Credit or Debit Card</label>
                                <div id="card-element" class="form-control form-control-payment">

                                </div>
                                
                                <button id="submit" class="btn btn-primary mt-5 fw-bold w-100" style="background-color:rgb(19, 106, 75); border-color:rgb(19, 106, 75); border-radius:8px" data-secret="{{client_secret}}">Pay ${{total_price}}</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var CSRF_TOKEN = '{{csrf_token}}';
</script>
<script src="https://js.stripe.com/v3/"></script>
<script src="{% static 'payment/js/index.js' %}"></script>
{% endblock %}